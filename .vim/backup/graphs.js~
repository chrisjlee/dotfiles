$(document).ready(function () {

	$.post('index.php', {
		action: 'data',
		data: 'overall'
	}, function(data) {
	
		data = $.parseJSON(data);


		overall_attendance = new Highcharts.Chart({

			chart: {
				renderTo: 'overall_attendance_graph',
				defaultSeriesType: 'line',
			},                 
			title: {
				text: 'Overall attendance'
			},
			subtitle: {
                          	text: 'of the Dallas Brazilian SDA Youth Choir members'
			},
			xAxis: {
				title: {
					text: "Rehearsal days"
				},
				categories: data['days']
			},
			yAxis: {
				title: {
					text: "# of attendees"
				},
				plotLines: [{
					value: 0,
					width: 1,
					color: '#808080'
				}],
				allowDecimals: false,
				min: 0

			},
			legend: {
				enabled: false
			},
			tooltip: {
                         	formatter: function () {
                            		return '<strong>' + this.series.name + '</strong><br>'+
					       this.x + ": " + this.y; 
				}
			},
			series: [{
				name: '# of attendees',
				data: data['attendance']
			}]

		});

	});

	$.post('index.php', {
		action: 'data',
		data: 'total'
	}, function(data) {
	
		data = $.parseJSON(data);


		overall_attendance = new Highcharts.Chart({

			chart: {
				renderTo: 'individual_total_attendance_graph',
				defaultSeriesType: 'column',
			},                 
			title: {
				text: 'Total individual attendance'
			},
			subtitle: {
                          	text: 'of the Dallas Brazilian SDA Youth Choir members'
			},
			xAxis: {
				title: {
					text: "Attendees"
				},
				categories: data['users']
			},
			yAxis: {
				title: {
					text: "# of days attended"
				},
				plotLines: [{
					value: 0,
					width: 1,
					color: '#808080'
				}],
				allowDecimals: false,
				min: 0

			},
			legend: {
				enabled: false
			},
			tooltip: {
                         	formatter: function () {
                            		return '<strong>' + this.series.name + '</strong><br>'+
					       this.x + ": " + this.y; 
				}
			},
			series: [{
				name: '# of attendees',
				data: data['total_checkins']
			}]

		});

	});

});
